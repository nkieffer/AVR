#include <avr/io.h>
#include <avr/interrupt.h>
#include <inttypes.h>
uint8_t lastState - 0xff;
ISR(PCINT0_vect){
  uint8_t changed = PINB ^ lastState;
  lastState = PINB;
  if(~(PINB & _BV(PB3)) & (changed & _BV(PB3)))
    PORTB ^= _BV(PB1);
  if(~(PINB & _BV(PB4)) & (changed & _BV(PB4)))
    PORTB ^= _BV(PB0);
}

int main(void){
  DDRB |= _BV(PB0) | _BV(PB1);
  DDRB &= ~_BV(PB3);
  DDRB &= ~_BV(PB4);
  PORTB |= _BV(PB3) | _BV(PB4);
  GIMSK |= _BV(PCIE);
  PCMSK |= _BV(PCINT3) | _BV(PCINT4);
  sei();
  while(1){

  }
}
